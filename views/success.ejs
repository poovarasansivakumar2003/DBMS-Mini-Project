<%- include('includes/header') %>

<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 py-12 px-6">
    <div class="max-w-sm sm:max-w-md w-full bg-white rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-100 text-center space-y-6">
        <!-- Success Icon -->
        <div class="flex justify-center">
            <div class="h-20 w-20 bg-green-100 rounded-full flex items-center justify-center transform transition-transform hover:scale-110 duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 00-1.414 0L9 11.586 5.707 8.293a1 1 0 10-1.414 1.414l4 4a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"
                        clip-rule="evenodd" />
                </svg>
            </div>
        </div>

        <!-- Success Message -->
        <div class="space-y-2">
            <h2 class="text-2xl sm:text-3xl font-extrabold text-gray-900">Success!</h2>
            <p class="text-gray-600 text-sm sm:text-base">Your account has been created successfully.</p>
        </div>
    </div>
</div>

<script>
    window.onload = function () {
        const pdfName = "<%- pdfName %>";  // Ensure proper EJS escaping
        if (pdfName.trim()) {  // Avoid empty filenames
            const downloadLink = document.createElement("a");
            downloadLink.href = `/customer/downloadCard/${encodeURIComponent(pdfName)}`;  // Encode URI
            downloadLink.download = pdfName;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        }
    };
</script>

<%- include('includes/footer') %>
